(function(e){function t(t){for(var o,i,c=t[0],s=t[1],l=t[2],u=0,f=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(f.length)f.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],o=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(o=!1)}o&&(n.splice(t--,1),e=c(c.s=r[0]))}return e}var o={},a={app:0},n=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"906987de"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,o){r=a[e]=[t,o]}));t.push(r[2]=o);var n,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=i(e);var l=new Error;n=function(t){s.onerror=s.onload=null,clearTimeout(u);var r=a[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",l.name="ChunkLoadError",l.type=o,l.request=n,r[1](l)}a[e]=void 0}};var u=setTimeout((function(){n({type:"timeout",target:s})}),12e4);s.onerror=s.onload=n,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(r,o,function(t){return e[t]}.bind(null,o));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/books_27/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"2a35":function(e,t,r){},5032:function(e,t,r){"use strict";r("2a35")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[e.isPrivateRoute?r("nav-bar"):e._e(),r("v-main",[r("router-view")],1)],1)},n=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("div",{staticClass:"d-flex align-center"},[r("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}}),r("v-img",{staticClass:"shrink mt-1 hidden-sm-and-down",attrs:{alt:"Vuetify Name",contain:"","min-width":"100",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-name-dark.png",width:"100"}})],1),r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:function(t){return e.$router.push("/book")}}},[r("v-icon",[e._v("mdi-plus-circle")]),r("span",{staticClass:"mr-2"},[e._v("Nuevo Libro")])],1),r("v-btn",{attrs:{color:"info"},on:{click:e.logout}},[e._v("Logout")])],1)},c=[],s=r("ea7b"),l={name:"navbar-comp",data:function(){return{}},methods:{logout:function(){var e=this,t=Object(s["a"])();Object(s["d"])(t).then((function(){e.$router.push("/login")})).catch((function(e){console.log(e)}))}}},u=l,d=r("2877"),f=r("6544"),v=r.n(f),p=r("40dc"),m=r("8336"),b=r("132d"),h=r("adda"),k=r("2fa4"),g=Object(d["a"])(u,i,c,!1,null,"d616539e",null),O=g.exports;v()(g,{VAppBar:p["a"],VBtn:m["a"],VIcon:b["a"],VImg:h["a"],VSpacer:k["a"]});var j={name:"App",data:function(){return{}},computed:{isPrivateRoute:function(){return!!this.$route.meta.privado}},components:{"nav-bar":O}},w=j,x=r("7496"),y=r("f6c4"),_=Object(d["a"])(w,a,n,!1,null,null,null),V=_.exports;v()(_,{VApp:x["a"],VMain:y["a"]});r("d3b7"),r("3ca3"),r("ddb0");var C=r("8c4f"),B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("h1",{staticClass:"text-center"},[e._v("Lista de Libros")]),r("v-divider",{staticClass:"my-3"}),r("v-row",{attrs:{justify:"center"}},e._l(e.books,(function(t){return r("v-col",{key:t.id,attrs:{md:"3"}},[r("v-card",[r("v-img",{attrs:{height:"220",src:t.image}}),r("v-divider",{staticClass:"mt-2"}),r("v-card-title",[e._v(e._s(t.title))]),r("v-card-actions",[r("v-btn",{attrs:{block:"",color:"primary"},on:{click:function(r){return e.$router.push("/book/"+t.id)}}},[e._v("Ver mas")])],1)],1)],1)})),1)],1)},E=[],$=r("5530"),R=r("2f62"),q={name:"Home",components:{},computed:Object($["a"])({},Object(R["c"])(["books"])),methods:Object($["a"])({},Object(R["b"])(["fetchBooks"])),created:function(){this.fetchBooks()}},S=q,A=r("b0af"),L=r("99d9"),T=r("62ad"),P=r("a523"),I=r("ce7e"),F=r("0fd9"),D=Object(d["a"])(S,B,E,!1,null,null,null),K=D.exports;v()(D,{VBtn:m["a"],VCard:A["a"],VCardActions:L["a"],VCardTitle:L["b"],VCol:T["a"],VContainer:P["a"],VDivider:I["a"],VImg:h["a"],VRow:F["a"]});var M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"text-center"},[e._v("Registrar nuevo libro")]),r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,counter:35,label:"Nombre Libro",required:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,counter:20,label:"Autor",required:""},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,label:"Src",required:""},model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.types,label:"Tipo",rules:e.requiredRules},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),r("v-col",[r("v-btn",{attrs:{color:"success"},on:{click:e.createBook}},[e._v("Registrar")]),r("v-btn",{on:{click:e.resetForm}},[e._v("Limpiar formulario")])],1)],1)],1)],1)],1)},N=[],H=r("c7eb"),J=r("1da1"),z=r("260b"),Q=r("e71f"),U={apiKey:"AIzaSyAgQKZ84nmSui2iLheaAA559PIE0lBwt7E",authDomain:"cursobooks27.firebaseapp.com",projectId:"cursobooks27",storageBucket:"cursobooks27.appspot.com",messagingSenderId:"816152270642",appId:"1:816152270642:web:89bdcc7297f0f7b713292b"};Object(z["a"])(U);var Z=Object(Q["g"])(),G={name:"register-book",data:function(){return{valid:!0,form:{title:"",author:"",type:"",image:""},requiredRules:[function(e){return!!e||"Campo es requerido"}]}},computed:Object($["a"])({},Object(R["c"])(["types"])),methods:{createBook:function(){var e=this;return Object(J["a"])(Object(H["a"])().mark((function t(){var r;return Object(H["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate(),e.valid){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,Object(Q["a"])(Object(Q["b"])(Z,"books"),e.form);case 6:r=t.sent,console.log(r),e.$router.push("/"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()},resetForm:function(){this.$refs.form.reset()}}},W=G,X=(r("a20f"),r("4bd4")),Y=r("b974"),ee=r("8654"),te=Object(d["a"])(W,M,N,!1,null,"38e52cba",null),re=te.exports;v()(te,{VBtn:m["a"],VCol:T["a"],VContainer:P["a"],VForm:X["a"],VRow:F["a"],VSelect:Y["a"],VTextField:ee["a"]});var oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"text-center"},[e._v("Editar libro "+e._s(e.idBook))]),r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",[r("v-row",[r("v-col",[r("v-switch",{attrs:{label:"Editar Libro",color:"info",value:"info","hide-details":""},model:{value:e.allowEdit,callback:function(t){e.allowEdit=t},expression:"allowEdit"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,counter:35,label:"Nombre Libro",required:"",disabled:!e.allowEdit},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,counter:20,label:"Autor",required:"",disabled:!e.allowEdit},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,label:"Src",required:"",disabled:!e.allowEdit},model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.types,label:"Tipo",rules:e.requiredRules,disabled:!e.allowEdit},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),r("v-col",[r("v-btn",{attrs:{color:"success",disabled:!e.allowEdit},on:{click:e.editBook}},[e._v("Editar")]),r("v-btn",{on:{click:e.resetForm}},[e._v("Limpiar formulario")]),r("v-btn",{attrs:{color:"red",dark:""},on:{click:function(t){e.dialog=!0}}},[e._v("Eliminar")])],1)],1)],1)],1),r("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" ¿Deseas Eliminar el libro? ")]),r("v-divider"),r("v-card-actions",[r("v-btn",{attrs:{color:"red",text:""},on:{click:e.deleteBook}},[e._v(" Eliminar ")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cerrar ")])],1)],1)],1)],1)},ae=[],ne={name:"book-comp",props:["idBook"],data:function(){return{valid:!0,dialog:!1,form:{title:"",author:"",type:"",image:""},requiredRules:[function(e){return!!e||"Campo es requerido"}],allowEdit:!1}},computed:Object($["a"])({},Object(R["c"])(["types"])),methods:{resetForm:function(){this.$refs.form.reset()},fetchBookById:function(){var e=this;return Object(J["a"])(Object(H["a"])().mark((function t(){var r,o;return Object(H["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=Object(Q["d"])(Z,"books",e.idBook),t.next=3,Object(Q["e"])(r);case 3:o=t.sent,console.log(o.data()),e.form=o.data();case 6:case"end":return t.stop()}}),t)})))()},editBook:function(){var e=this;return Object(J["a"])(Object(H["a"])().mark((function t(){var r;return Object(H["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.form,r.id=e.idBook,t.next=5,Object(Q["h"])(Object(Q["d"])(Z,"books",r.id),r);case 5:e.$router.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},deleteBook:function(){var e=this;return Object(J["a"])(Object(H["a"])().mark((function t(){return Object(H["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Q["c"])(Object(Q["d"])(Z,"books",e.idBook));case 3:e.$router.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},created:function(){this.fetchBookById()}},ie=ne,ce=(r("5032"),r("169a")),se=r("b73d"),le=Object(d["a"])(ie,oe,ae,!1,null,"1b64c7f8",null),ue=le.exports;v()(le,{VBtn:m["a"],VCard:A["a"],VCardActions:L["a"],VCardTitle:L["b"],VCol:T["a"],VContainer:P["a"],VDialog:ce["a"],VDivider:I["a"],VForm:X["a"],VRow:F["a"],VSelect:Y["a"],VSpacer:k["a"],VSwitch:se["a"],VTextField:ee["a"]});var de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("h2",{staticClass:"text-center"},[e._v("usuario: user@user.cl")]),r("h2",{staticClass:"text-center"},[e._v("pass: 123456")]),r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{md:"5"}},[r("h2",[e._v("Login")]),r("v-form",[r("v-text-field",{attrs:{type:"email",label:"Correo"},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),r("v-text-field",{attrs:{type:"password",label:"Contraseña"},model:{value:e.pass,callback:function(t){e.pass=t},expression:"pass"}}),r("v-btn",{attrs:{color:"primary",block:""},on:{click:e.login}},[e._v("Ingresar")])],1)],1)],1)],1)},fe=[],ve={name:"login-view",data:function(){return{user:"",pass:""}},methods:{login:function(){var e=this,t=Object(s["a"])();Object(s["c"])(t,this.user,this.pass).then((function(t){var r=t.user;console.log(r),e.$router.push("/")})).catch((function(e){var t=e.message;alert(t)}))}}},pe=ve,me=Object(d["a"])(pe,de,fe,!1,null,"5da33d94",null),be=me.exports;v()(me,{VBtn:m["a"],VCol:T["a"],VContainer:P["a"],VForm:X["a"],VRow:F["a"],VTextField:ee["a"]}),o["a"].use(C["a"]);var he=[{path:"/",name:"Home",component:K,meta:{privado:!0}},{path:"/book",name:"Register",component:re,meta:{privado:!0}},{path:"/book/:idBook",name:"Book",component:ue,props:!0,meta:{privado:!0}},{path:"/login",name:"Login",component:be},{path:"/about",name:"About",meta:{privado:!0},component:function(){return r.e("about").then(r.bind(null,"f820"))}}],ke=new C["a"]({mode:"history",base:"/books_27/",routes:he});ke.beforeEach((function(e,t,r){var o=Object(s["a"])();console.log(o);var a=o.currentUser;console.log(a);var n=e.meta.privado;n&&!a?r("/login"):void 0==n&&a?r("/"):r()}));var ge=ke;r("159b");o["a"].use(R["a"]);var Oe=new R["a"].Store({state:{books:[],types:["ciencia ficción","novela"]},mutations:{ADD_BOOK:function(e,t){e.books.push({id:t.id,title:t.data().title,author:t.data().author,image:t.data().image,type:t.data().type})},RESET_BOOK:function(e){e.books=[]}},actions:{fetchBooks:function(e){return Object(J["a"])(Object(H["a"])().mark((function t(){var r,o;return Object(H["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Object(Q["f"])(Object(Q["b"])(Z,"books"));case 3:o=t.sent,r("RESET_BOOK"),o.forEach((function(e){r("ADD_BOOK",e),console.log(e.id,"=>",e.data())}));case 6:case"end":return t.stop()}}),t)})))()}},modules:{}}),je=r("f309");o["a"].use(je["a"]);var we=new je["a"]({});o["a"].config.productionTip=!1;var xe=Object(s["a"])();Object(s["b"])(xe,(function(){new o["a"]({router:ge,store:Oe,vuetify:we,render:function(e){return e(V)}}).$mount("#app")}))},a20f:function(e,t,r){"use strict";r("db64")},db64:function(e,t,r){}});
//# sourceMappingURL=app.6c78dea9.js.map